<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>School Timetable</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <h1>School Timetable</h1>
  <% if (successMessage) { %>
    <script>
      alert("<%= successMessage %>");
    </script>
  <% } %>
  <form action="/edit" method="POST" class="timetable-form">
    <table class="timetable-table">
      <thead>
        <tr>
          <th>Time</th>
          <% for(let day in timetable) { %>
            <th><%= day %></th>
          <% } %>
        </tr>
      </thead>
      <tbody>
        <% 
        const times = ['8:00-9:00', '9:00-10:00', '10:00-11:00', '11:00-12:00', '12:00-13:00', '14:00-15:00'];
        for(let hour = 0; hour < times.length; hour++) { %>
          <tr>
            <td><%= times[hour] %></td>
            <% for(let day in timetable) { %>
              <td>
                <input type="text" id="<%= day %>-<%= hour %>" name="<%= day %>[<%= hour %>]" value="<%= timetable[day][hour] %>">
              </td>
            <% } %>
          </tr>
        <% } %>
      </tbody>
    </table>
    <button type="submit">Save Timetable</button>
    <input type="hidden" name="successMessage" value="Timetable saved successfully">
  </form>

  <form action="/generate" method="GET">
    <button type="submit">Generate Timetable</button>
  </form>
</body>
</html>
